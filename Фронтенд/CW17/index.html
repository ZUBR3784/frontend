<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>   
    <script>


// // простейший запрос на сервер
//       fetch('https://jsonplaceholder.typicode.com/todos/1')
//       .then(response => response.json())
//       .then(json => console.log(json))



// //  развернутые коды для XHR:
// var xhr = new XMLHttpRequest();
// console.log('UNSENT', xhr.readyState); // readyState будет равно 0

// xhr.open('GET', '/api', true);
// console.log('OPENED', xhr.readyState); // readyState будет равно 1

// xhr.onprogress = function () {
//    console.log('LOADING', xhr.readyState); // readyState будет равно 3
// };

// xhr.onload = function () {
//    console.log('DONE', xhr.readyState); // readyState будет равно 4
// };

// xhr.send(null);


// в if проверка успешного запроса
        //    const reqestUrl = 'https://jsonplaceholder.typicode.com/users';
        // let xhr = new XMLHttpRequest();
        // xhr.open('GET', reqestUrl, true);
        // xhr.onload = function () {
        //     let users = JSON.parse(xhr.responseText);
        //     if (xhr.readyState == 4 && xhr.status == "200") {
        //         console.table(users);
        //     } else {
        //         console.error(users);
        //     }
        // }
        // xhr.send();




          

        // const requestURL = 'https://jsonplaceholder.typicode.com/users';
        // let data = {};
        // data.firstname = "Vova";
        // data.lastname  = "Zhlabo";
        // let json = JSON.stringify(data);


        // let xhr = new XMLHttpRequest();
        // xhr.open("POST", requestURL, true);


        // xhr.setRequestHeader('Content-type','application/json; charset=utf-8');


        // xhr.onload = function () { 
        //     let _data = JSON.parse(xhr.responseText);
        //     if (xhr.readyState == 4 && xhr.status == "201") {
        //         console.log("Сервер вернул нам: ", _data);
        //         } else {
        //         console.error("error");
        //     }
        // }
        // xhr.send(json);

        const promise1 = new Promise((resolve, reject)=>{
          setTimeout(()=>{
            resolve("Here i'm call resolve");
          },5000);
        });

        promise1.then((info)=>{
          console.log('resolve', info);
        });

        console.log(promise1 );


        fetch("http://65.109.13.139:9191/signin", {
            "method": "POST",
            "headers": {
                "content-type": "application/json"
            },
            "body": "{\"username\":\"admin\",\"password\":\"admin\"}",
            });




//         const requestURL = 'https://jsonplaceholder.typicode.com/users';


// function sendRequest(method, url, body = null) {
//  const headers = {
//    'Content-Type': 'application/json'
//  }


//  return fetch(url, {
//    method: method,
   
//    headers: headers
//  }).then(response => {
//    if (response.ok) {
//      return response.json()
//    }


//    return response.json().then(error => {
//      const e = new Error('Что-то пошло не так')
//      e.data = error
//      throw e
//    })
//  })
// }


// sendRequest('GET', requestURL)
//  .then(data => console.log(data))
//  .catch(err => console.log(err)) 
    </script>
</body>
</html>